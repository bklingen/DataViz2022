---
title: "NCF_Alum"
author: "Paul"
date: "1/17/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(haven)
mypath <- 'C:/DataSci/Classes/Data Vis/Data/NCAlumn.csv'
df <- read_csv(file=mypath)
```

```{r}

ncf <- df %>% 
  filter(! is.na(Industry)) %>%
  
  #temporary pivot_longer to collapse DIVISION and AOC 
  #(values_to can only output 1 column, but we need 2 columns for DIVISION and AOC)
  pivot_longer(cols=c(ACADEMIC_PROGRAM_1,ACADEMIC_PROGRAM_2,ACADEMIC_PROGRAM_3,
                      DIVISION_1,DIVISION_2, DIVISION_3),
               names_to=c("temp", ".value"), 
               names_pattern = "(.+)_(.+)") %>% 
  
  #collapsing the 3 AOCs to 1 column
  pivot_longer(cols=c("1","2","3"), names_to = "AOC_num", values_to = "AOC") %>%
  
  #breaking AOC and DIVISION into 2 columns again
  pivot_wider(names_from = "temp", values_from = "AOC") %>% 
  
  rename(AOC = ACADEMIC_PROGRAM) %>% 
  filter(! is.na(AOC)) %>%

  #reordering columns 
  select(ID,GRAD_YEAR,AOC_num,AOC,DIVISION,Industry,Position,Org_Name)
```

